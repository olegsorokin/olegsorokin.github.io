"use strict";Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},r=Math.pow(2,53)-1,s=function(e){var t=n(e);return Math.min(Math.max(t,0),r)};return function(e){var n=this,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i=arguments[1];if(void 0!==i){if(i=arguments.length>1?arguments[1]:void 0,!t(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(T=arguments[2])}for(var a,o=s(r.length),l=t(n)?Object(new n(o)):new Array(o),u=0;u<o;)a=r[u],l[u]=i?"undefined"==typeof T?i(a,u):i.call(T,a,u):a,u+=1;return l.length=o,l}}());var truncate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length>t?e.substring(0,t-n.length)+n:e},request=new XMLHttpRequest;request.open("GET","/data/news/news.json",!0),request.onload=function(){if(request.status>=200&&request.status<400){var e=JSON.parse(request.responseText),t=document.getElementById("news__list"),n=e.reduce(function(e,t){var n='<a href="" class="news__link news__link--hide">more ></a>';return t.body.length>400&&(n='<a href="" class="news__link">more ></a>'),"\n        "+e+'\n        <article class="news__article">\n          <div class="news__header">\n            <h3 class="news__title">'+t.title+'</h3>\n            <span class="news__date">'+t.date+'</span>\n          </div>\n          <p class="news__body">'+truncate(t.body,400)+"</p>\n          "+n+'\n        </article>\n        <div class="news__bot-line"></div>\n      '},"");t.innerHTML=n;var r=document.getElementsByClassName("news__body");Array.from(document.getElementsByClassName("news__link")).forEach(function(t,n,s){t.addEventListener("click",function(t){t.preventDefault(),"full"===s[n].getAttribute("data-state")?(r[n].innerHTML=truncate(e[n].body,400),s[n].innerHTML="more >",s[n].setAttribute("data-state","truncated")):(r[n].innerHTML=e[n].body,s[n].innerHTML="hide <",s[n].setAttribute("data-state","full"))})})}else console.log("server error: ",request.status)},request.onerror=function(){return console.log("loading error")},request.send();var getClass=function(e){return document.getElementsByClassName(e)},getId=function(e){return document.getElementById(e)},sliderItems=getClass("slider__item"),sliderLength=sliderItems.length,outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)},slideWidth=outerWidth(getClass("slider__img")[0]),insert=function(e,t){return getId("slider__body").insertBefore(e,t)},margin=0,sliderAnimate=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;margin>-slideWidth?(margin-=1,sliderItems[0].style.marginLeft=String(margin)+"px",setTimeout(function(){return e(t,n)},t)):margin<=-slideWidth&&(sliderItems[0].style.marginLeft="0px",insert(sliderItems[0],sliderItems[sliderLength+1]),margin=0,setTimeout(function(){return e(t,n)},n))};sliderAnimate();